
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>add</title>
</head>
<body>
<form action="" method="post">
    <h3>添加品牌</h3><br>
    品牌名称：<input type="text" id="brandName" name="brandName"><br>
    企业名称：<input type="text" id="companyName" name="companyName"><br>
    排序：<input type="text" id="ordered" name="ordered"><br>
    描述信息：<textarea rows="5" cols="20" name="description" id="description"></textarea><br>
    状态：
    <input type="radio" name="status" value="0">禁用
    <input type="radio" name="status" value="1">启用<br>

    <input type="button" id="submit" value="提交">

</form>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

<script type="text/javascript">
    document.getElementById("submit").onclick=function (){
        //将表单数据转换为json
        var formData={
            brandName: "",
            companyName: "",
            ordered: "",
            description: "",
            status: "",
        };
        formData.brandName=document.getElementById("brandName").value;
        formData.companyName=document.getElementById("companyName").value;
        formData.ordered=document.getElementById("ordered").value;
        formData.description=document.getElementById("description").value;
        for (let s of document.getElementsByName("status")) {
            if(s.checked){
                formData.status=s.value;
            }
        };
        axios({
            method:"post",
            url:"http://localhost:8080/ajax-demo/addServlet",
            data: formData
        }).then(function (resp) {
            if(resp.data=="success"){
                location.href="http://localhost:8080/ajax-demo/brand.html"
            }
        })
    }
</script>
</body>
</html>
